
rule make_up_results:
	output: "the_results.txt"
	shell: r"sleep 1m; touch the_results.txt"

rule trying_hisat_2:
	output: "hisat_results.txt"
	shell: r"""source package f9c1e0c5-d0e8-4ba0-9edd-88235400fa13 
		   hisat2 --help > hisat_results.txt"""


rule trim_reads:
    output: "../intermediate_data/snakemake_intermediate_data/{sample}.trimmed.fastq.gz"
    input: 
        read_1 = "../input_data/cage_data/Fastq_R1/{sample}_R1.fastq.gz",
        read_2 = "../input_data/cage_data/Fastq_R2/{sample}_R2.fastq.gz",
        solexa = "../input_data/solexa_sequencing_primers.fa"

    log: "../intermediate_data/snakemake_intermediate_data/{sample}.trim_reads.log"
    shell: 
        r"""
        source package 50fcf79b-73a3-4f94-9553-5ed917823423
        trimmomatic PE -threads 16  {input.read_1} {input.read_2} -baseout {output} ILLUMINACLIP:../{input.solexa}:2:30:12 SLIDINGWINDOW:4:20 MINLEN:20 AVGQUAL:20 
        """

rule fastqc:
	output: "../intermediate_data/snakemake_intermediate_data/{sample}.trimmed_fastqc_reports"
	input: "../intermediate_data/snakemake_intermediate_data/{sample}.trimmed.fastq.gz"
	log: "../intermediate_data/snakemake_intermediate_data/{sample}.fastqc.log"
	shell: r"""source package 2d6c04bd-2683-4a94-8431-10b5c240ba87
			fastqc -t 16 {input} -o {output}"""


